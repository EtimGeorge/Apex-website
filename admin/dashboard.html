<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Project Apex</title>
    <!-- Correct paths for CSS from the /admin/ folder -->
    <link rel="stylesheet" href="../css/variables.css">
    <link rel="stylesheet" href="../css/styles.css">
    <link rel="stylesheet" href="admin.css">
    <!-- Add TinyMCE Rich Text Editor -->
    <script src="https://cdn.tiny.cloud/1/ix7drud8e07rm2t9bmofezmo5qfiidmink34f0oc4el10kcm/tinymce/7/tinymce.min.js" referrerpolicy="origin"></script>

</head>

<body>
    <div class="dashboard-layout">
        <!-- ===== Admin Sidebar (Single, Correct Structure) ===== -->
        <aside class="sidebar admin-sidebar">
            <div class="sidebar-header">
                <a href="dashboard.html" class="logo">Admin Panel</a>
            </div>
            <nav class="sidebar-nav">
                <ul>
                    <li class="nav-section-title">
                        <span class="nav-text">MENU</span>
                    </li>
                    <li>
                        <a href="dashboard.html" class="nav-item active">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="16" y1="2" x2="16" y2="6"></line>
                                <line x1="8" y1="2" x2="8" y2="6"></line>
                                <line x1="3" y1="10" x2="21" y2="10"></line>
                            </svg>
                            <span class="nav-text">Dashboard</span>
                        </a>
                    </li>
                    <li>
                        <a href="users.html" class="nav-item">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
                                <circle cx="9" cy="7" r="4"></circle>
                                <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
                                <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
                            </svg>
                            <span class="nav-text">Manage Users</span>
                        </a>
                    </li>
                    <li>
                        <a href="kyc.html" class="nav-item">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                                <polyline points="22 4 12 14.01 9 11.01"></polyline>
                            </svg>
                            <span class="nav-text">KYC Requests</span>
                        </a>
                    </li>
                    <li>
                        <a href="deposits.html" class="nav-item">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="8 12 12 16 16 12"></polyline>
                                <line x1="12" y1="8" x2="12" y2="16"></line>
                            </svg>
                            <span class="nav-text">Deposit Requests</span>
                        </a>
                    </li>
                    <li>
                        <a href="withdrawals.html" class="nav-item">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10"></circle>
                                <polyline points="16 12 12 8 8 12"></polyline>
                                <line x1="12" y1="16" x2="12" y2="8"></line>
                            </svg>
                            <span class="nav-text">Withdrawal Requests</span>
                        </a>
                    </li>
                    <li class="nav-section-title">
                        <span class="nav-text">SETTINGS</span>
                    </li>
                    <li>
                        <a href="plans.html" class="nav-item">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="12" y1="8" x2="12" y2="16"></line>
                                <line x1="8" y1="12" x2="16" y2="12"></line>
                            </svg>
                            <span class="nav-text">Manage Plans</span>
                        </a>
                    </li>
                    <li>
                        <button id="logout-btn" class="nav-item">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                                <polyline points="16 17 21 12 16 7"></polyline>
                                <line x1="21" y1="12" x2="9" y2="12"></line>
                            </svg>
                            <span class="nav-text">Logout</span>
                        </button>
                    </li>
                </ul>
            </nav>
        </aside>

        <!-- ===== Admin Main Content ===== -->
        <main class="main-content">
            <div class="main-content-wrapper">
                <header class="main-header">
                    <div class="header-actions">
                        <div class="user-info">
                            <span id="admin-name-display">Admin</span>
                            <img src="images/administrator-avatar.png" alt="Admin Profile" class="profile-pic">
                        </div>
                    </div>
                </header>
                <!-- This is the complete content-body for admin/dashboard.html -->
                <div class="content-body">
                    <h1>Admin Dashboard</h1>
                    <p class="page-description">This is the central control panel for Project Apex. Select an option
                        from the sidebar to begin.</p>

                    <p class="page-description">Overview of platform activity and key metrics.</p>

                    <!-- Summary Cards -->
                    <div class="summary-cards">
                        <!-- Card 1: Total Users -->
                        <div class="card">
                            <div class="card-content">
                                <span class="card-title">Total Registered Users</span>
                                <span class="card-value" id="admin-total-users">0</span>
                            </div>
                        </div>

                        <!-- Card 2: Total Invested -->
                        <div class="card">
                            <div class="card-content">
                                <span class="card-title">Total Amount Invested</span>
                                <span class="card-value" id="admin-total-invested">$0.00</span>
                            </div>
                        </div>

                        <!-- Card 3: Pending KYC -->
                        <div class="card">
                            <div class="card-content">
                                <span class="card-title">Pending KYC Requests</span>
                                <span class="card-value" id="admin-pending-kyc">0</span>
                            </div>
                        </div>

                        <!-- Card 4: Pending Deposits -->
                        <div class="card">
                            <div class="card-content">
                                <span class="card-title">Pending Deposit Requests</span>
                                <span class="card-value" id="admin-pending-deposits">0</span>
                            </div>
                        </div>
                    </div>

                    <!-- Manual Actions Card -->
                    <div class="card admin-action-card">
                        <h3 class="card-header">Manual Actions</h3>
                        <p>Run scheduled jobs manually. This is for testing and should be automated in production.</p>
                        <button id="process-investments-btn" class="btn btn-primary">Run Daily Profit
                            Calculation</button>
                    </div>

                    <!-- ============================================= -->
                    <!-- NEW BLOG POST CREATION SECTION -->
                    <!-- ============================================= -->
                    <div class="card" style="margin-top: 2rem;">
                        <div class="card-header">
                            <h2>Create New Blog Post</h2>
                        </div>
                        <div class="card-body">
                            <form id="new-post-form">
                                <div class="form-group">
                                    <label for="post-title">Title</label>
                                    <input type="text" id="post-title" class="form-control" required>
                                </div>
                                <div class="form-group">
                                    <label for="post-snippet">Snippet (A short summary for the blog card)</label>
                                    <textarea id="post-snippet" class="form-control" rows="3" required></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="post-image-url">Image URL</label>
                                    <input type="url" id="post-image-url" class="form-control"
                                        placeholder="https://example.com/image.jpg">
                                </div>
                                <div class="form-group">
                                    <label for="post-content">Content</label>
                                    <textarea id="post-content" class="form-control" rows="12" required></textarea>
                                </div>
                                <div class="form-group">
                                    <label for="post-status">Status</label>
                                    <select id="post-status" class="form-control">
                                        <option value="published" selected>Published</option>
                                        <option value="draft">Draft</option>
                                    </select>
                                </div>
                                <button type="submit" class="btn btn-primary">Create Post</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- ===== SCROLL TO TOP BUTTON ===== -->
<button id="scroll-to-top-btn" class="scroll-to-top" title="Go to top">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 19V5M5 12l7-7 7 7"/></svg>
</button>
<!-- ================================ -->
    <!-- Correct path for the JS file -->
    <script type="module" src="../js/admin.js"></script>
</body>

</html>